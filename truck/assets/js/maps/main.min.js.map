{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["var mySwiper = new Swiper('.characteristics__slider', { //FIXME funcking slider. поискать чего попроще\r\n    loop: true,\r\n    slidesPerView: 'auto',\r\n    spaceBetween: 20,\r\n    loopedSlides: 5,\r\n    allowTouchMove: false,\r\n    autoHeight: true,\r\n    centeredSlides: true,\r\n    // autoplay: {\r\n    //     delay: 3000\r\n    // }\r\n});\r\n\r\nconst $mark = document.querySelector('#svgMapMark');\r\nconst $dots = document.querySelectorAll('.svg-map-dot');\r\nconst $regions = document.querySelectorAll('.svg-map-region');\r\n\r\nconst $citiesInfo = document.querySelectorAll('.dealer__info');\r\nconst dotsData = [];\r\nfor (let i = 0; i < $dots.length; i++) {\r\n    const obj = {\r\n        x: parseInt($dots[i].getAttribute('cx')),\r\n        y: parseInt($dots[i].getAttribute('cy')),\r\n        r: parseInt($dots[i].getAttribute('r')),\r\n    };\r\n    dotsData.push(obj);\r\n    const setMarkFunc = setMark.bind(null, i);\r\n    $dots[i].addEventListener('click', setMarkFunc);\r\n    $regions[i].addEventListener('click', setMarkFunc);\r\n}\r\nif (window.innerWidth <=767) {\r\n    for (let i = 0; i < $dots.length; i++) {\r\n        const currentR = $dots[i].getAttribute('r');\r\n        $dots[i].setAttribute('r', currentR * 2);\r\n    }\r\n}\r\n\r\nsetMark(0);\r\nfunction setMark(ind) {\r\n    let offsetX = +$mark.getAttribute('width') / 2;\r\n    let offsetY = +$mark.getAttribute('height');\r\n    for (let i = 0; i < $dots.length; i++) {\r\n        $dots[i].classList.remove('hidden');\r\n        $citiesInfo[i].classList.add('hidden');\r\n    }\r\n    $dots[ind].classList.add('hidden');\r\n    $citiesInfo[ind].classList.remove('hidden');\r\n    $mark.setAttribute('x', dotsData[ind].x - offsetX);\r\n    $mark.setAttribute('y', dotsData[ind].y - offsetY);   \r\n}\r\n\r\nconst $burger = document.querySelector('#burger');\r\nconst $headerMenu = document.querySelector('#headerMenu');\r\nconst $body = document.body;\r\n$burger.addEventListener('click', function() {\r\n    if ($burger.classList.contains('active')) {\r\n        closeMenu();\r\n    } else {\r\n        openMenu();\r\n    }\r\n});\r\nfunction closeMenu() {\r\n    $burger.classList.remove('active');\r\n    $headerMenu.classList.remove('active');\r\n    $body.classList.remove('lock');\r\n}\r\nfunction openMenu() {\r\n    $burger.classList.add('active');\r\n    $headerMenu.classList.add('active');\r\n    $body.classList.add('lock');\r\n}\r\n\r\nconst $popup = document.querySelector('#popupRequest');\r\nconst $callPopupBtns = document.querySelectorAll('.call-popup');\r\nfor (let i = 0; i < $callPopupBtns.length; i++) {\r\n    $callPopupBtns[i].addEventListener('click', function() {\r\n        showPopup();\r\n    });\r\n    $popup.addEventListener('click', function() {\r\n        if (event.target.id === 'popupRequest') {\r\n            hidePopup();\r\n        }\r\n    });\r\n}\r\n\r\nfunction showPopup() {\r\n    $popup.classList.add('active');\r\n    $popup.classList.add('fade-in');\r\n    $body.classList.add('lock');\r\n}\r\nfunction hidePopup() {\r\n    $popup.classList.remove('fade-in');\r\n    $popup.classList.add('fade-out');\r\n    function removing() {\r\n        $popup.classList.remove('active');\r\n        $popup.classList.remove('fade-out');\r\n        $body.classList.remove('lock');\r\n        $popup.removeEventListener('animationend', removing);\r\n    }\r\n    $popup.addEventListener('animationend', removing);\r\n}\r\n"],"file":"../main.min.js"}