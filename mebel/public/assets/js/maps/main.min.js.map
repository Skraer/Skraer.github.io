{"version":3,"sources":["main.js"],"names":["inputTel","document","getElementById","sendForm","form","onSuccess","event","preventDefault","validateForm","xhr","XMLHttpRequest","body","serialize","open","setRequestHeader","onreadystatechange","status","readyState","send","alert","querySelector","inputName","value","length","i","j","q","elements","name","nodeName","type","push","encodeURIComponent","writeCommaCheckbox","options","selected","join","mask","IMask","this","overwrite","autofix","unmaskedValue","masked","reset"],"mappings":"aAeA,IAAIA,SAAWC,SAASC,eAAe,YAuBvC,SAASC,SAASC,EAAMC,GAGpB,GADAC,EAAMC,GAAN,aAAAD,MAAMC,iBACFC,aAAaJ,GAAO,CAChBK,IAAGA,EAAOC,IAAAA,eACNC,EAAGC,UAASR,GAChBS,EAAJA,KAAS,OAAQ,cACbC,EAAAA,iBAAiB,eAAgB,qCACrCL,EAAIM,mBAAqB,WAAA,GAArBA,EAAAA,YAAgC,KAAXN,EAAWO,SACxBC,EAAAA,QAGJZ,IAAAA,MAAS,uBAOjBI,EAAIS,KAAKP,QAhBbQ,MAiBO,6BAKX,SAASX,aAAaJ,GAAtB,IACCJ,EAAaI,EAAAgB,cAAA,qBACTpB,EAAWI,EAAKgB,cAAc,sBAC/B,SAAIC,EAASC,MAAQF,MAHhBZ,wDAG8Ba,EAAAC,MAAAC,OAAnC,GAIJ,SAASX,UAAUR,GAAnB,IAAAA,GAAyB,SAAhBQ,EAAUR,SAClB,OAAKA,EAEJ,IAAAoB,EAAAC,EAAAC,EAAA,GAED,IAAKF,EAAIpB,EAAKuB,SAASJ,OAAS,EAAGC,GAAK,EAAGA,GAAQ,EADnD,GAAA,KAAIA,EAAJG,SAAAH,GAAAI,KAKC,OAAQxB,EAAKuB,SAASH,GAAGK,UAJ1B,IAAM,QACL,OAAQzB,EAACuB,SAAYC,GAAjBE,MACH,IAAA,OACA,IAAA,MAME,IAAK,QALR,IAAA,SACC,IAAA,WACC,IAAA,SACC,IAAA,QACA,IAAA,SACAJ,EAAAK,KAAA3B,EAAKuB,SAALH,GAAAI,KAAA,IAAAI,mBAAA5B,EAAAuB,SAAAH,GAAAF,QACA,MACA,IAAA,WACAW,mBAAA7B,EAAAoB,EAAAE,GACA,MACA,IAAA,QACCA,EAAEK,SAAUJ,GAAAA,SACZD,EAAAK,KAAA3B,EAAAuB,SAAAH,GAAAI,KAAA,IAAAI,mBAAA5B,EAAAuB,SAAAH,GAAAF,QAGA,MAQH,IAAK,OAPH,MACC,IAAA,WACCI,EAAAA,KAAAA,EAAEK,SAASP,GAACG,KAASH,IAAGI,mBAAaI,EAAAA,SAAuBR,GAACG,QAC7D,MASJ,IAAK,SARF,OAAAvB,EAAAuB,SAAAH,GAAAM,MAlBF,IAAA,aA6BEJ,EAAEK,KAAK3B,EAAKuB,SAASH,GAAGI,KAAO,IAAMI,mBAAmB5B,EAAKuB,SAASH,GAAGF,QAT3E,MAWC,IAAK,kBAVP,IAAKG,EAAArB,EAALuB,SAAAH,GAAAU,QAAAX,OAAA,EAAAE,GAAA,EAAAA,GAAA,EACCrB,EAAAuB,SAAAH,GAAAU,QAAAT,GAAAU,UAYIT,EAAEK,KAAK3B,EAAKuB,SAASH,GAAGI,KAAO,IAAMI,mBAAmB5B,EAAKuB,SAASH,GAAGU,QAAQT,GAAGH,QARzF,MACC,IAAA,SACC,OAAAlB,EAAKuB,SAAAH,GAALM,MACCJ,IAAAA,QACA,IAAA,SAcD,IAAK,SAbLA,EAAAK,KAAA3B,EAAKuB,SAAAH,GAAAI,KAAL,IAAAI,mBAAA5B,EAAAuB,SAAAH,GAAAF,SAoBJ,OAAOI,EAAEU,KAAK,KA7GXC,SAAOC,iBAAY,aAAA,WACfD,KAAMC,MAAAC,KAAA,CACNC,KAAS,uBACLA,WAHW,EAIfC,MAAS,EAJbA,SAAA,OAQAzC,SAAIqC,iBAAYK,cAAZ,WACIL,KAACM,OAAOC,cAAZrB,QAAA,IACAc,KAAKf,OAALsB,QACHL,KAAAjB,MAAA","file":"../main.min.js","sourcesContent":["// const playBtn = document.querySelector('.play-video');\r\n\r\n// playBtn.addEventListener('click', function(e) {\r\n//     e.preventDefault();\r\n//     const parent = playBtn.parentElement;\r\n//     const src = playBtn.getAttribute('href');\r\n//     const iframe = document.createElement('iframe');\r\n//     parent.removeChild(playBtn);\r\n//     parent.appendChild(iframe);\r\n//     iframe.setAttribute('src', src + '?rel=0&modestbranding=1&autohide=1&mute=1&showinfo=0&controls=1&autoplay=1');\r\n//     iframe.setAttribute('frameborder', '0');\r\n//     iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');\r\n//     iframe.setAttribute('allowfullscreen', null);\r\n// });\r\n\r\nvar inputTel = document.getElementById('inputTel');\r\n// var maskOptions = {\r\n//   mask: '+{7}(000)000-00-00',\r\n//   lazy: false\r\n// };\r\n// var mask = IMask(inputTel, maskOptions);\r\n\r\ninputTel.addEventListener('mouseover', function () {\r\n    mask = IMask(this, {\r\n        mask: '+{7} (000) 000 00 00',\r\n        overwrite: true,\r\n        lazy: false,\r\n        autofix: true\r\n    });\r\n});\r\ninputTel.addEventListener('mouseleave', function () {\r\n    if (mask.masked.unmaskedValue.length <= 1) {\r\n        mask.masked.reset();\r\n        this.value = '';\r\n    }\r\n});\r\n\r\n\r\nfunction sendForm(form, onSuccess) {\r\n    onSuccess = onSuccess || function(){};\r\n    event.preventDefault();\r\n    if (validateForm(form)) {\r\n        var xhr = new XMLHttpRequest();\r\n        var body = serialize(form);\r\n        xhr.open('POST', './mail.php');\r\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState == 4 && xhr.status == 200) {\r\n                form.reset();\r\n                // showSuccessWindow();\r\n                onSuccess();\r\n                alert('Данные отправлены');\r\n                // setTimeout(function() {\r\n                //     window.location.href = '/thanks.html';\r\n                // }, 1500);\r\n            }\r\n        };\r\n        xhr.send(body);\r\n    } else {\r\n        alert('Введите корректные данные');\r\n        // form.reset();\r\n    }\r\n}\r\nfunction validateForm(form) {\r\n\tvar regTel = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\r\n\tvar inputTel = form.querySelector('input[name=\"tel\"]');\r\n    var inputName = form.querySelector('input[name=\"name\"]');\r\n    if (inputTel.value.match(regTel) && inputName.value.length > 2) return true;\r\n    else return false;\r\n}\r\nfunction serialize(form) {\r\n\tif (!form || form.nodeName !== \"FORM\") {\r\n\t\treturn false;\r\n\t}\r\n\tvar i, j, q = [];\r\n\tfor (i = form.elements.length - 1; i >= 0; i = i - 1) {\r\n\t\tif (form.elements[i].name === \"\") {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tswitch (form.elements[i].nodeName) {\r\n\t\t\tcase 'INPUT':\r\n\t\t\t\tswitch (form.elements[i].type) {\r\n\t\t\t\t\tcase 'text':\r\n\t\t\t\t\tcase 'tel':\r\n\t\t\t\t\tcase 'email':\r\n\t\t\t\t\tcase 'hidden':\r\n\t\t\t\t\tcase 'password':\r\n\t\t\t\t\tcase 'button':\r\n\t\t\t\t\tcase 'reset':\r\n\t\t\t\t\tcase 'submit':\r\n\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'checkbox':\r\n\t\t\t\t\t\twriteCommaCheckbox(form, i, q);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'radio':\r\n\t\t\t\t\t\tif (form.elements[i].checked) {\r\n\t\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'file':\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'TEXTAREA':\r\n\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'SELECT':\r\n\t\t\t\tswitch (form.elements[i].type) {\r\n\t\t\t\t\tcase 'select-one':\r\n\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'select-multiple':\r\n\t\t\t\t\t\tfor (j = form.elements[i].options.length - 1; j >= 0; j = j - 1) {\r\n\t\t\t\t\t\t\tif (form.elements[i].options[j].selected) {\r\n\t\t\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].options[j].value));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'BUTTON':\r\n\t\t\t\tswitch (form.elements[i].type) {\r\n\t\t\t\t\tcase 'reset':\r\n\t\t\t\t\tcase 'submit':\r\n\t\t\t\t\tcase 'button':\r\n\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn q.join(\"&\");\r\n}"]}