(this["webpackJsonptest-work-app"]=this["webpackJsonptest-work-app"]||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l}));var c=n(7),r=function(e){return{type:c.a.SET_USERNAME,payload:e}},a=function(e){return{type:c.a.SET_REPO,payload:e}},s=function(){return{type:c.a.LOADING_START}},i=function(){return{type:c.a.LOADING_END}},u=function(){return{type:c.a.FETCH_COUNT}},o=function(){return{type:c.a.FETCH_ISSUES}},l=function(e){return{type:c.a.SET_OPTIONS,payload:e}}},16:function(e,t,n){"use strict";var c=n(11),r=n.n(c),a=n(17),s=n(6),i=n(7),u={loading:!1,list:null,error:null,totalCount:null,username:"",repo:"",page:null,options:{perPage:10,page:1,state:"open"}},o=n(38),l=n(15),j=n(32),b=n(37),d=r.a.mark(f),O=Object(o.a)(),p=Object(a.combineReducers)({issues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.SET_USERNAME:return Object(s.a)(Object(s.a)({},e),{},{username:t.payload});case i.a.SET_REPO:return Object(s.a)(Object(s.a)({},e),{},{repo:t.payload});case i.a.SET_ISSUES:return Object(s.a)(Object(s.a)({},e),{},{list:t.payload});case i.a.LOADING_START:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case i.a.LOADING_END:return Object(s.a)(Object(s.a)({},e),{},{loading:!1});case i.a.SET_COUNT:return Object(s.a)(Object(s.a)({},e),{},{totalCount:t.payload});case i.a.SET_PAGE:return Object(s.a)(Object(s.a)({},e),{},{page:t.payload});case i.a.SET_OPTIONS:return Object(s.a)(Object(s.a)({},e),{},{options:t.payload});default:return e}}});function f(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)([Object(l.d)(i.a.FETCH_ISSUES,j.b),Object(l.d)(i.a.FETCH_COUNT,j.a)]);case 2:case"end":return e.stop()}}),d)}var h=Object(a.createStore)(p,Object(b.composeWithDevTools)(Object(a.applyMiddleware)(O)));O.run(f);t.a=h},32:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var c,r,a=n(11),s=n.n(a),i=n(15),u=n(16),o=n(34),l=n(7),j=n(14),b=s.a.mark(f),d=s.a.mark(h),O=(null===(c=e)||void 0===c||null===(r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API:"https://api.github.com"}))||void 0===r?void 0:r.REACT_APP_API)||"https://api.github.com",p=new o.a(O);function f(){var e,t,n,c,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=[u.a.getState().issues.username,u.a.getState().issues.repo,u.a.getState().issues.options],t=e[0],n=e[1],c=e[2],a.next=3,Object(i.c)(Object(j.g)());case 3:return a.prev=3,a.next=6,Object(i.b)(p.fetchIssues,t,n,c);case 6:return r=a.sent,a.next=9,Object(i.c)({type:l.a.SET_ISSUES,payload:r});case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),console.error(a.t0),console.log("error");case 15:return a.prev=15,a.next=18,Object(i.c)(Object(j.a)());case 18:return a.finish(15);case 19:case"end":return a.stop()}}),b,null,[[3,11,15,19]])}function h(){var e,t,n,c,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=[u.a.getState().issues.username,u.a.getState().issues.repo,u.a.getState().issues.options],t=e[0],n=e[1],c=e[2],a.prev=1,a.next=4,Object(i.b)(p.getIssuesCount,t,n,c.state);case 4:return r=a.sent,a.next=7,Object(i.c)({type:l.a.SET_COUNT,payload:r});case 7:console.log(r),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0);case 13:case"end":return a.stop()}}),d,null,[[1,10]])}}).call(this,n(55))},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(11),r=n.n(c),a=n(33),s=n(35),i=n(36),u=function(){function e(t){var n=this;Object(s.a)(this,e),this._url=t,this.fetchIssues=function(){var e=Object(a.a)(r.a.mark((function e(t,c,a){var s,i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="".concat(n.url,"/repos/").concat(t,"/").concat(c,"/issues"),a&&(s+=n.getQueryString(a)),e.next=4,fetch(s);case 4:return i=e.sent,e.next=7,i.json();case 7:if(u=e.sent,console.log(u),i.ok){e.next=11;break}throw new Error(u.message);case 11:return e.abrupt("return",u.map((function(e){return{title:e.title,url:e.html_url,number:e.number,createdAt:e.created_at,body:e.body,user:{avatar:e.user.avatar_url,username:e.user.login,url:e.user.html_url}}})));case 12:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),this.getIssuesCount=function(){var e=Object(a.a)(r.a.mark((function e(t,c,a){var s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=a||"open",e.next=3,fetch("".concat(n.url,"/search/issues?q=repo:").concat(t,"/").concat(c,"%20is:issue+state:").concat(a));case 3:return s=e.sent,e.next=6,s.json();case 6:return i=e.sent,e.abrupt("return",i.total_count);case 8:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),this.getQueryString=function(e){var t="?";return e.perPage&&(t+="per_page=".concat(e.perPage,"&")),e.page&&(t+="page=".concat(e.page,"&")),e.state&&(t+="state=".concat(e.state,"&")),t=t.slice(0,t.length-1)},this.fromSnakeToCamel=function(e){for(var t=e.split("_"),n=1;n<t.length;n++)t[n]=t[n].slice(0,1).toUpperCase()+t[n].slice(1).toLowerCase();return t.join("")}}return Object(i.a)(e,[{key:"url",get:function(){return this._url}}]),e}()},43:function(e,t,n){},44:function(e,t,n){},48:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(22),a=n.n(r),s=(n(43),n(44),n(13)),i=n(19),u=n(8),o=n(6),l=n(28),j=(n(48),n(14)),b=function(e){return 1===e.toString().length?"0".concat(e.toString()):e},d=function(e){return"".concat(function(e){var t=new Date(e);return"".concat(b(t.getDate()),".").concat(b(t.getMonth()),".").concat(t.getFullYear())}(e)," ").concat(function(e){var t=new Date(e);return"".concat(b(t.getHours()),":").concat(b(t.getMinutes()),":").concat(b(t.getSeconds()))}(e))},O=n(2),p=function(e){var t=e.title,n=e.createdAt,c=e.number,r=e.url,a=e.user,s=d(n);return Object(O.jsxs)("div",{className:"issue-item",children:[Object(O.jsxs)("div",{className:"issue-item_main",children:[Object(O.jsxs)("div",{className:"issue-item_user",children:[Object(O.jsx)("div",{className:"issue-item_user-avatar",children:Object(O.jsx)("img",{src:a.avatar,alt:""})}),Object(O.jsx)("a",{className:"issue-item_user-link",href:a.url,children:a.username})]}),Object(O.jsx)("h4",{className:"issue-item_title",children:Object(O.jsxs)(i.b,{to:"/details#".concat(c),children:[t," "]})}),Object(O.jsx)("div",{className:"issue-item_more",children:Object(O.jsx)("a",{href:r,target:"_blank",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]}),Object(O.jsxs)("div",{className:"issue-item_footer",children:[Object(O.jsxs)("span",{className:"issue-item_date",children:["\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",s]}),Object(O.jsxs)("span",{className:"issue-item_number",children:["\u041d\u043e\u043c\u0435\u0440 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f: ",c]})]})]})},f=function(e){for(var t=e.amountElems,n=e.perPage,c=e.onChange,r=e.active,a=t?Math.ceil(t/n):0,s=[],i=1;i<=a;i++)s.push(i);return Object(O.jsx)("ul",{className:"pagination",children:s.map((function(e){return Object(O.jsx)("li",{className:r===e?"active":void 0,children:Object(O.jsx)("a",{href:e.toString(),onClick:function(t){!function(e,t){e.preventDefault(),c(t)}(t,e)},children:e})},e)}))})},h=function(){var e=Object(s.c)((function(e){return e.issues})),t=e.list,n=e.totalCount,r=e.loading,a=e.options,i=Object(c.useState)(!1),u=Object(l.a)(i,2),b=u[0],d=u[1],h=Object(s.b)();Object(c.useEffect)((function(){console.log("loading")}),[r]),Object(c.useEffect)((function(){d(Boolean(t&&n&&n>10))}),[n,t]);var S=Object(O.jsx)("p",{className:"text-center",children:"\u0417\u0434\u0435\u0441\u044c \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442 :("}),m=Object(O.jsx)("p",{className:"text-center",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),v=Object(O.jsx)("p",{className:"text-center",children:"\u0423 \u044d\u0442\u043e\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"});return Object(O.jsxs)("div",{className:"container-medium",children:[Object(O.jsx)("div",{className:"issue-list",children:r?m:t?t.length?t.map((function(e){return Object(c.createElement)(p,Object(o.a)(Object(o.a)({},e),{},{key:e.number}))})):v:S}),b&&Object(O.jsx)(f,{amountElems:n,perPage:+a.perPage,onChange:function(e){h(Object(j.d)(Object(o.a)(Object(o.a)({},a),{},{page:e}))),h(Object(j.c)()),console.log(e)},active:+a.page})]})},S=n(25),m=(n(52),function(){var e=Object(s.c)((function(e){return e.issues})),t=Object(c.useState)({username:e.username,repo:e.repo}),n=Object(l.a)(t,2),r=n[0],a=n[1],i=Object(s.b)(),u=function(e){return e.trim().toLowerCase()},b=function(e){a(Object(o.a)(Object(o.a)({},r),{},Object(S.a)({},e.target.getAttribute("name").toString(),e.target.value)))},d=function(){var e=u(r.username),t=u(r.repo);i(Object(j.f)(e)),i(Object(j.e)(t)),i(Object(j.c)()),i(Object(j.b)())};return Object(O.jsx)("div",{className:"search-form",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d()},children:[Object(O.jsxs)("div",{className:"col",children:[Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: "}),Object(O.jsx)("input",{type:"text",name:"username",value:r.username,onChange:b,disabled:e.loading})]}),Object(O.jsx)("button",{name:"confirm-username",type:"button",children:"\u041e\u043a"})]}),Object(O.jsxs)("div",{className:"input-field",children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f: "}),Object(O.jsx)("input",{type:"text",name:"repo",value:r.repo,onChange:b,disabled:e.loading})]}),Object(O.jsx)("button",{name:"confirm-repo",type:"button",children:"\u041e\u043a"})]}),Object(O.jsx)("button",{type:"submit",disabled:e.loading,children:"\u041f\u043e\u0438\u0441\u043a"})]}),Object(O.jsx)("div",{className:"input-field select-field",children:Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u044b\u0445 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439"}),Object(O.jsxs)("select",{value:e.options.perPage,onChange:function(t){i(Object(j.d)(Object(o.a)(Object(o.a)({},e.options),{},{perPage:+t.target.value}))),e.list&&e.list.length&&(d(),console.log("perpage changed"))},children:[Object(O.jsx)("option",{value:"10",children:"10"}),Object(O.jsx)("option",{value:"30",children:"30"}),Object(O.jsx)("option",{value:"50",children:"50"})]})]})})]})})}),v=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(m,{}),Object(O.jsx)(h,{})]})},g=(n(53),function(){var e,t=Object(u.f)().location.hash.slice(1),n=null===(e=Object(s.c)((function(e){return e.issues})).list)||void 0===e?void 0:e.filter((function(e){return e.number.toString()===t}))[0];return console.log(t),console.log(n),Object(O.jsxs)("div",{className:"issue-page",children:[Object(O.jsxs)("p",{children:["\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044e \u043d\u043e\u043c\u0435\u0440: ",null===n||void 0===n?void 0:n.number]}),Object(O.jsxs)("p",{children:["\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: ",null===n||void 0===n?void 0:n.title]}),Object(O.jsxs)("p",{children:["\u0410\u0432\u0442\u043e\u0440: ",null===n||void 0===n?void 0:n.user.username]}),Object(O.jsxs)("p",{children:["\u0421\u0441\u044b\u043b\u043a\u0430:"," ",Object(O.jsx)("a",{href:null===n||void 0===n?void 0:n.url,target:"_blank",children:null===n||void 0===n?void 0:n.url})]}),Object(O.jsxs)("p",{children:["\u041d\u0435\u0440\u0430\u0441\u043f\u0430\u0440\u0441\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442: ",null===n||void 0===n?void 0:n.body]}),Object(O.jsxs)("p",{children:["\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",d(n.createdAt)]})]})}),x=function(){var e=Object(s.c)((function(e){return e.issues.error}));return Object(c.useEffect)((function(){console.log(e)}),[e]),Object(O.jsx)(i.a,{children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("header",{className:"header",children:Object(O.jsx)(i.b,{to:"/",exact:!0,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(O.jsxs)(u.c,{children:[Object(O.jsx)(u.a,{path:"/",exact:!0,children:Object(O.jsx)(v,{})}),Object(O.jsxs)(u.a,{path:"/details",children:[Object(O.jsx)(u.a,{path:"/details"}),Object(O.jsx)(g,{})]})]})]})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},_=n(16);a.a.render(Object(O.jsx)(s.a,{store:_.a,children:Object(O.jsx)(x,{})}),document.getElementById("root")),E()},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c={SET_USERNAME:"ISSUES/SET_USERNAME",SET_REPO:"ISSUES/SET_REPO",FETCH_ISSUES:"ISSUES/FETCH_ISSUES",SET_ISSUES:"ISSUES/SET_ISSUES",LOADING_START:"ISSUES/LOADING_START",LOADING_END:"ISSUES/LOADING_END",SET_COUNT:"ISSUES/SET_COUNT",FETCH_COUNT:"ISSUES/FETCH_COUNT",SET_PAGE:"ISSUES/SET_PAGE",SET_OPTIONS:"ISSUES/SET_OPTIONS"}}},[[56,1,2]]]);
//# sourceMappingURL=main.a99d7c18.chunk.js.map