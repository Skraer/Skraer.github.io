{"version":3,"sources":["main.js"],"names":["faqItems","document","querySelectorAll","forEach","item","addEventListener","e","target","closest","classList","toggle","documentElement","clientWidth","header","querySelector","headerHeight","getBoundingClientRect","height","headerTopHeight","window","onscroll","pageYOffset","add","style","paddingBottom","remove","getCurrencyNum","val","String","split","reverse","i","length","splice","join","createElem","tag","classNames","attrs","html","elem","createElement","cls","attr","setAttribute","isNullableValue","innerHTML","Array","undefined","Toast","[object Object]","selector","time","timeAnim","this","el","isShowing","timer","setup","clearTimeout","setTimeout","animationDuration","hideToast","toastProductAdded","Cart","cartBtnSelector","cartBtn","outputSeparator","updateBtn","innerLink","getCartCount","removeAttribute","id","title","price","count","cart","getCart","Error","setCart","localStorage","setItem","JSON","stringify","parse","getItem","key","inputs","inp","name","value","type","push","totalSumInput","getTotalSum","separatorInput","sum","ProductCard","element","HTMLElement","btnMinus","btnPlus","input","btnAdd","getAttribute","validCodes","includes","keyCode","preventDefault","curVal","isNaN","parseInt","_validateDecimal","increase","decrease","data","addItem","showToast","alert","activeModal","Modal","onCall","isInit","callBtn","overlay","closeBtn","disableAnimation","body","contains","hideModal","showModal","callMe","thankModal","cartConfirmDelete","btnConfirm","btnCancel","removeItem","deletingId","cartTable","updateTable","cartConfirmClear","removeAll","btnClearCart","CartTable","wrapperSelector","emptyText","wrapper","table","preloader","emptyPlaceholderElem","totalOutput","tr","data-id","fields","tdList","td","innerText","actionsCol","btnActionMore","btnActionLess","increaseCount","decreaseCount","append","totalSum","btnDelete","showTable","showPlaceholder","checkContent","items","tableBody","getTableRow","updateTotalSum","removeHiddenInputs","form","sendCartForm","onSuccess","event","policy","checked","validateForm","getInputs","xhr","XMLHttpRequest","serialize","open","setRequestHeader","onreadystatechange","readyState","status","reset","send","sendForm","console","log","inputTel","inputName","allow","match","nodeName","j","q","elements","encodeURIComponent","options","selected","card"],"mappings":"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","file":"../main.min.js","sourcesContent":["const faqItems = document.querySelectorAll('.faq__item');\r\nif (faqItems) {\r\n    faqItems.forEach(item => {\r\n        item.addEventListener('click', e => {\r\n            const title = e.target.closest('.faq__title');\r\n            if (title) item.classList.toggle('shown');\r\n        });\r\n    });\r\n}\r\n\r\nif (document.documentElement.clientWidth <= 767) {\r\n    const header = document.querySelector('.header');\r\n    const headerHeight = header.getBoundingClientRect().height;\r\n    const headerTopHeight = header.querySelector('.header__top').getBoundingClientRect().height;\r\n    window.onscroll = function(e) {\r\n        if (pageYOffset >= 100) {\r\n            header.classList.add('fixed');\r\n            header.style.paddingBottom = headerHeight - headerTopHeight + 'px';\r\n        } else {\r\n            header.classList.remove('fixed');\r\n            header.style.paddingBottom = '';\r\n        }\r\n    };\r\n}\r\n\r\nfunction getCurrencyNum(val) {\r\n    val = String(val).split('').reverse();\r\n    for (let i = 3; i < val.length; i+=4) {\r\n        val.splice(i, 0, ' ');\r\n    }\r\n    return val.reverse().join('');\r\n}\r\nfunction createElem({tag = 'div', classNames, attrs, html}) {\r\n    const elem = document.createElement(tag);\r\n    if (classNames) classNames.forEach(cls => {elem.classList.add(cls)});\r\n    for (let attr in attrs) {\r\n        elem.setAttribute(attr, attrs[attr]);\r\n    }\r\n    if (!isNullableValue(html)) elem.innerHTML = html;\r\n    return elem;\r\n}\r\n\r\nfunction isNullableValue(val) {\r\n    if (val instanceof Array) {\r\n        for (let i = 0; i < val.length; i++) {\r\n            if (val[i] === null || val[i] === undefined || val[i] === false) return true;\r\n        }\r\n    } else {\r\n        if (val === null || val === undefined || val === false) return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nclass Toast {\r\n    constructor({selector, time, timeAnim}) {\r\n        this.selector = selector || '.toast';\r\n        this.el = document.querySelector(this.selector);\r\n        this.time = time || 2500;\r\n        this.timeAnim = timeAnim || 500;\r\n        this.isShowing = false;\r\n        this.timer = null;\r\n        if (this.el) {\r\n            this.setup();\r\n        }\r\n    }\r\n    showToast() {\r\n        clearTimeout(this.timer);\r\n        if (this.isShowing) {\r\n            this.el.classList.remove('show');\r\n            this.isShowing = false;\r\n        }\r\n        setTimeout(() => {\r\n            this.el.classList.add('show');\r\n            this.isShowing = true;\r\n        }, 0);\r\n        this.timer = setTimeout(() => {\r\n            this.el.classList.remove('show');\r\n            this.isShowing = false;\r\n            clearTimeout(this.timer);\r\n        }, this.time);\r\n    }\r\n    hideToast() {\r\n        this.el.classList.remove('show');\r\n        clearTimeout(this.timer);\r\n    }\r\n    setup() {\r\n        this.el.style.animationDuration = this.timeAnim / 1000 + 's';\r\n        this.el.addEventListener('click', e => {\r\n            this.hideToast();\r\n        });\r\n    }\r\n}\r\nconst toastProductAdded = new Toast({\r\n    selector: '#productAdded',\r\n    timeAnim: 300\r\n});\r\n\r\nclass Cart {\r\n    constructor({cartBtnSelector}) {\r\n        this.cartBtn = document.querySelector(cartBtnSelector);\r\n        this.outputSeparator = '#';\r\n        this.setup();\r\n        this.updateBtn();\r\n    }\r\n    updateBtn() {\r\n        const innerLink = this.cartBtn.querySelector('a.cart-btn__link');\r\n        const val = this.getCartCount();\r\n        if (val > 0) {\r\n            innerLink.setAttribute('data-cart-count', val);\r\n            this.cartBtn.classList.add('not-empty');\r\n        } else {\r\n            innerLink.removeAttribute('data-cart-count');\r\n            this.cartBtn.classList.remove('not-empty');\r\n        }\r\n    }\r\n    addItem({id = null, title = null, price = null, count = null}) {    //мутабельный\r\n        const cart = this.getCart();\r\n        if (isNullableValue([id, title, price, count])) {\r\n            throw new Error('Неверное значение для добавления товара в корзину');\r\n        };\r\n        cart[id] = {title, price, count};\r\n        this.setCart(cart);\r\n        return this.getCart();\r\n    }\r\n    increaseCount(id) {\r\n        const cart = this.getCart();\r\n        +(cart[id].count) >= 0 ?\r\n            cart[id].count += 1 :\r\n            cart[id].count = 0;\r\n        this.setCart(cart);\r\n    }\r\n    decreaseCount(id) {\r\n        const cart = this.getCart();\r\n        +(cart[id].count) > 0 ?\r\n            cart[id].count -= 1 :\r\n            cart[id].count = 0;\r\n        this.setCart(cart);\r\n    }\r\n    removeItem(id) {    //мутабельный\r\n        const cart = this.getCart();\r\n        if (cart[id]) delete cart[id];\r\n        this.setCart(cart);\r\n        return this.getCart();\r\n    }\r\n    getItem(id) {\r\n        const cart = this.getCart();\r\n        if (cart[id]) return cart[id];\r\n    }\r\n    setCart(cart) {\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n        this.updateBtn();\r\n        return this.getCart();\r\n    }\r\n    removeAll() {   //мутабельный\r\n        this.setCart({});\r\n        return this.getCart();\r\n    }\r\n    getCart() {\r\n        return JSON.parse(localStorage.getItem('cart'));\r\n    }\r\n    getCartCount() {\r\n        const cart = this.getCart();\r\n        let count = 0;\r\n        for (let key in cart) {\r\n            count++;\r\n        }\r\n        return count;\r\n    }\r\n    getInputs() {\r\n        const cart = this.getCart();\r\n        const inputs = [];\r\n        for (let id in cart) {\r\n            const el = cart[id];\r\n            const str = el.title + this.outputSeparator + el.count + this.outputSeparator + getCurrencyNum(el.price * el.count) + ' руб';\r\n            const inp = createElem({\r\n                tag: 'input',\r\n                attrs: {\r\n                    name: 'cart-item-' + id,\r\n                    value: str,\r\n                    type: 'hidden'\r\n                }\r\n            });\r\n            inputs.push(inp);\r\n        }\r\n        const totalSumInput = createElem({\r\n            tag: 'input',\r\n            attrs: {\r\n                name: 'total-sum',\r\n                value: getCurrencyNum(this.getTotalSum()) + ' руб',\r\n                type: 'hidden'\r\n            }\r\n        });\r\n        const separatorInput = createElem({\r\n            tag: 'input',\r\n            attrs: {\r\n                name: 'separator',\r\n                value: this.outputSeparator,\r\n                type: 'hidden'\r\n            }\r\n        });\r\n        inputs.push(totalSumInput);\r\n        inputs.push(separatorInput);\r\n        return inputs;\r\n    }\r\n    getTotalSum() {\r\n        const cart = this.getCart();\r\n        let sum = 0;\r\n        for (let id in cart) {\r\n            sum += cart[id].price * cart[id].count;\r\n        }\r\n        return sum;\r\n    }\r\n    setup() {\r\n        if (localStorage.getItem('cart') == null) {\r\n            let cart = {};\r\n            cart = JSON.stringify(cart);\r\n            localStorage.setItem('cart', cart);\r\n        }\r\n    }\r\n}\r\nconst cart = new Cart({\r\n    cartBtnSelector: '#cartBtn'\r\n});\r\n\r\nclass ProductCard {\r\n    constructor(element) {\r\n        if (typeof element === 'string') {\r\n            this.el = document.querySelector(element);\r\n        } else if (element instanceof HTMLElement) {\r\n            this.el = element;\r\n        } else {\r\n            throw new Error('Ошибка');\r\n        }\r\n        this.btnMinus = this.el.querySelector('[name=\"cart-action\"][value=\"minus\"]');\r\n        this.btnPlus = this.el.querySelector('[name=\"cart-action\"][value=\"plus\"]');\r\n        this.input = this.el.querySelector('.product-item__cart-input');\r\n        this.btnAdd = this.el.querySelector('.product-item__cart-add');\r\n        this.id = this.el.getAttribute('data-id');\r\n        this.title = this.el.querySelector('.product-item__title').getAttribute('title');\r\n        this.price = this.el.querySelector('.product-item__price').getAttribute('data-price');\r\n        this.setup();\r\n    }\r\n    _validateDecimal(input) {\r\n        const validCodes = [\r\n            8,9,\r\n            37,38,39,40,\r\n            48,49,50,51,52,53,54,55,56,57,\r\n            96,97,98,99,100,101,102,103,104,105\r\n        ];\r\n        input.addEventListener('keydown', e => {\r\n            if (!validCodes.includes(e.keyCode)) {\r\n                e.preventDefault();\r\n            }\r\n        });\r\n    }\r\n    increase() {\r\n        const curVal = this.input.value;\r\n        isNaN(parseInt(curVal)) ?\r\n            this.input.value = 1 :\r\n            this.input.value = parseInt(curVal) + 1;\r\n    }\r\n    decrease() {\r\n        const curVal = this.input.value;\r\n        isNaN(parseInt(curVal)) ?\r\n            this.input.value = 0 :\r\n            parseInt(curVal) > 0 ? this.input.value = parseInt(curVal) - 1 : void(0);\r\n    }\r\n    setup() {\r\n        this._validateDecimal(this.input);\r\n        this.btnPlus.addEventListener('click', e => {\r\n            this.increase();\r\n        });\r\n        this.btnMinus.addEventListener('click', e => {\r\n            this.decrease();\r\n        });\r\n        this.btnAdd.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            const count = parseInt(this.input.value);\r\n            if (count > 0) {\r\n                const data = {\r\n                    id: this.id,\r\n                    count: parseInt(this.input.value),\r\n                    title: this.title,\r\n                    price: parseInt(this.price)\r\n                };\r\n                cart.addItem(data);\r\n                toastProductAdded.showToast();\r\n            } else {\r\n                alert('Уточните количество товара');\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nlet activeModal = null;\r\nclass Modal {\r\n    constructor(selector, {onCall}) {\r\n        this.selector = selector;\r\n        this.el = document.querySelector(this.selector);\r\n        this.isInit = false;\r\n        if (this.el) {\r\n            this.isInit = true;\r\n            this.callBtn = document.querySelector('[data-call=\"' + this.el.getAttribute('id') + '\"]');\r\n            this.onCall = onCall || function(){};\r\n            this.overlay = this.el.querySelector('.modal__overlay');\r\n            this.closeBtn = this.el.querySelector('.modal__close');\r\n            this.setup();\r\n        }\r\n    }\r\n    showModal(disableAnimation = false) {\r\n        activeModal = this;\r\n        if (disableAnimation) {\r\n            this.el.classList.add('active');\r\n        } else {\r\n            this.el.classList.remove('hiding');\r\n            this.el.classList.add('active');\r\n            this.el.classList.add('showing');\r\n            setTimeout(() => {\r\n                this.el.classList.remove('showing');\r\n            }, 250);\r\n        }\r\n        document.body.classList.add('lock');\r\n        this.onCall();\r\n    }\r\n    hideModal(disableAnimation = false) {\r\n        activeModal = null;\r\n        if (disableAnimation) {\r\n            this.el.classList.remove('active');\r\n        } else {\r\n            this.el.classList.remove('showing');\r\n            this.el.classList.add('hiding');\r\n            setTimeout(() => {\r\n                this.el.classList.remove('active');\r\n                this.el.classList.remove('hiding');\r\n            }, 250);\r\n        }\r\n        document.body.classList.remove('lock');\r\n    }\r\n    showingHandler() {\r\n        this.el.classList.contains('active') ?\r\n            this.hideModal() :\r\n            this.showModal();\r\n    }\r\n    setup() {\r\n        if (this.closeBtn) {\r\n            this.closeBtn.addEventListener('click', (e) => {\r\n                this.hideModal();\r\n            });\r\n        }\r\n        this.overlay.addEventListener('mousedown', (e) => {\r\n            if (e.target === this.overlay) {\r\n                this.hideModal();\r\n            }\r\n        });\r\n        if (this.callBtn) {\r\n            this.callBtn.addEventListener('click', e => {\r\n                this.showModal();\r\n            });\r\n        }\r\n    }\r\n}\r\nconst callMe = new Modal('#callMe', {});\r\nconst thankModal = new Modal('#thankModal', {});\r\nconst cartConfirmDelete = new Modal('#cartConfirmDelete', {});\r\nif (cartConfirmDelete.isInit) {\r\n    cartConfirmDelete.btnConfirm = cartConfirmDelete.el.querySelector('[name=\"delete\"][value=\"confirm\"]');\r\n    cartConfirmDelete.btnCancel = cartConfirmDelete.el.querySelector('[name=\"delete\"][value=\"cancel\"]');\r\n    cartConfirmDelete.btnConfirm.addEventListener('click', e => {\r\n        cart.removeItem(cartConfirmDelete.deletingId);\r\n        cartTable.updateTable();\r\n        cartConfirmDelete.deletingId = null;\r\n        cartConfirmDelete.hideModal();\r\n    });\r\n    cartConfirmDelete.btnCancel.addEventListener('click', e => {\r\n        cartConfirmDelete.hideModal();\r\n    });\r\n}\r\nconst cartConfirmClear = new Modal('#cartConfirmClear', {});\r\nif (cartConfirmClear.isInit) {\r\n    cartConfirmClear.btnConfirm = cartConfirmClear.el.querySelector('[name=\"clear\"][value=\"confirm\"]');\r\n    cartConfirmClear.btnCancel = cartConfirmClear.el.querySelector('[name=\"clear\"][value=\"cancel\"]');\r\n    cartConfirmClear.btnConfirm.addEventListener('click', e => {\r\n        // cart.removeItem(cartConfirmDelete.deletingId);\r\n        cart.removeAll();\r\n        cartTable.updateTable();\r\n        cartConfirmClear.deletingId = null;\r\n        cartConfirmClear.hideModal();\r\n    });\r\n    cartConfirmClear.btnCancel.addEventListener('click', e => {\r\n        cartConfirmClear.hideModal();\r\n    });\r\n}\r\nconst btnClearCart = document.querySelector('#btnClearCart');\r\nif (btnClearCart) {\r\n    btnClearCart.addEventListener('click', e => {\r\n        cartConfirmClear.showModal();\r\n    });\r\n}\r\n\r\n\r\nclass CartTable {\r\n    constructor(wrapperSelector, {emptyText}) {\r\n        this.wrapper = document.querySelector(wrapperSelector);\r\n        this.table = document.querySelector('.cart__table');\r\n        this.preloader = document.querySelector('.sk-fading-circle');\r\n        this.emptyPlaceholderElem = document.querySelector('.cart-empty-placeholder');\r\n        this.totalOutput = document.querySelector('.cart__total .output');\r\n        this.emptyText = emptyText || '';\r\n        if (this.wrapper) {\r\n            this.setup();\r\n        }\r\n    }\r\n    getTableRow(data) {\r\n        const tr = createElem({\r\n            tag: 'tr',\r\n            classNames: ['cart__row'],\r\n            attrs: {\r\n                'data-id': data.id\r\n            }\r\n        });\r\n        const fields = ['title', 'price', 'count'];\r\n        const tdList = [];\r\n\r\n\r\n        for (let i = 0; i < fields.length; i++) {\r\n            const td = createElem({\r\n                tag: 'td',\r\n                html: data[fields[i]]\r\n            });\r\n            tdList.push(td);\r\n        }\r\n        tdList[1].innerText = getCurrencyNum(tdList[1].innerText) + ' руб'; \r\n\r\n        const actionsCol = createElem({classNames: ['cart__actions-col']});\r\n        const btnActionMore = createElem({\r\n            tag: 'button',\r\n            classNames: ['cart__btn-more'],\r\n        });\r\n        const btnActionLess = createElem({\r\n            tag: 'button',\r\n            classNames: ['cart__btn-less'],\r\n        });\r\n        btnActionMore.addEventListener('click', e => {\r\n            cart.increaseCount(data.id);\r\n            this.updateTable();\r\n        });\r\n        btnActionLess.addEventListener('click', e => {\r\n            cart.decreaseCount(data.id)\r\n            this.updateTable();\r\n        });\r\n        actionsCol.append(btnActionMore, btnActionLess);\r\n\r\n        tdList[2].append(actionsCol);\r\n\r\n        const totalSum = parseInt(data.price) * parseInt(data.count);\r\n\r\n        tdList.push(createElem({\r\n            tag: 'td',\r\n            html: getCurrencyNum(totalSum) + ' руб'\r\n        }));\r\n\r\n\r\n        const btnDelete = createElem({\r\n            tag: 'button',\r\n            classNames: ['cart__delete'],\r\n            attrs: {title: 'Удалить'},\r\n            html: '<img src=\"assets/img/icon/remove.svg\" alt=\"Удалить\">'\r\n        });\r\n\r\n        btnDelete.addEventListener('click', e => {\r\n            cartConfirmDelete.showModal();\r\n            document.querySelector('.cart-removing-title').innerText = data.title;\r\n            cartConfirmDelete.deletingId = data.id;\r\n        });\r\n\r\n        tdList.push(createElem({\r\n            tag: 'td',\r\n        }));\r\n        tdList[4].append(btnDelete);\r\n\r\n        tr.append(...tdList);\r\n\r\n        return tr;\r\n    }\r\n    showLoader() {\r\n        this.wrapper.classList.add('hidden');\r\n        this.emptyPlaceholderElem.classList.add('hidden');\r\n        this.preloader.classList.remove('hidden');\r\n    }\r\n    showPlaceholder() {\r\n        this.wrapper.classList.add('hidden');\r\n        this.preloader.classList.add('hidden');\r\n        this.emptyPlaceholderElem.classList.remove('hidden');\r\n        this.emptyPlaceholderElem.innerText = this.emptyText;\r\n    }\r\n    showTable() {\r\n        this.emptyPlaceholderElem.classList.add('hidden');\r\n        this.preloader.classList.add('hidden');\r\n        this.wrapper.classList.remove('hidden');\r\n    }\r\n    checkContent() {\r\n        if (cart.getCartCount() > 0) {\r\n            this.showTable();\r\n            return true;\r\n        } else {\r\n            this.showPlaceholder();\r\n            return false;\r\n        }\r\n    }\r\n    updateTable() {\r\n        if (this.checkContent()) {\r\n            const items = cart.getCart();\r\n            const tableBody = this.table.querySelector('tbody');\r\n            tableBody.innerHTML = '';\r\n            for (let id in items) {\r\n                const data = {\r\n                    id: id,\r\n                    price: items[id].price,\r\n                    title: items[id].title,\r\n                    count: items[id].count,\r\n                };\r\n                tableBody.append(this.getTableRow(data));\r\n            }\r\n            this.updateTotalSum();\r\n        }\r\n    }\r\n    updateTotalSum() {\r\n        const items = cart.getCart();\r\n        let sum = 0;\r\n        for (let id in items) {\r\n            const curSum = items[id].count * items[id].price;\r\n            sum += curSum;\r\n        }\r\n        sum = getCurrencyNum(sum);\r\n        this.totalOutput.innerText = sum + ' руб';\r\n    }\r\n    setup() {\r\n        this.updateTable();\r\n    }\r\n}\r\n\r\nconst cartTable = new CartTable('.cart-content-wrapper', {\r\n    emptyText: 'Ваша корзина на данный момент пуста'\r\n});\r\n\r\nfunction removeHiddenInputs(form) {\r\n    const inputs = form.querySelectorAll('input[type=\"hidden\"]');\r\n    inputs.forEach(inp => {\r\n        if (inp.getAttribute('name') !== 'form-type') inp.remove();\r\n    });\r\n}\r\n\r\nfunction sendCartForm(form, onSuccess = null) {\r\n    onSuccess = onSuccess || function(){};\r\n    event.preventDefault();\r\n    const policy = form.querySelector('input[name=\"policy\"]');\r\n    if (!isNullableValue(policy)) {\r\n        if (!policy.checked) {\r\n            alert('Мы не можем принять заявку без вашего согласия с политикой конфиденциальности');\r\n            return false;\r\n        }\r\n    }\r\n    if (validateForm(form)) {\r\n        removeHiddenInputs(form);\r\n        form.append(...cart.getInputs());\r\n\r\n        var xhr = new XMLHttpRequest();\r\n        var body = serialize(form);\r\n        xhr.open('POST', './mail.php');\r\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState == 4 && xhr.status == 200) {\r\n                form.reset();\r\n                onSuccess();\r\n                activeModal ? activeModal.hideModal() : void(0);\r\n                thankModal.showModal();\r\n            }\r\n        };\r\n        xhr.send(body);\r\n    } else {\r\n        alert('Введите корректные данные');\r\n    }\r\n}\r\n\r\nfunction sendForm(form, onSuccess = null) {\r\n    onSuccess = onSuccess || function(){};\r\n    event.preventDefault();\r\n    const policy = form.querySelector('input[name=\"policy\"]');\r\n    if (!isNullableValue(policy)) {\r\n        if (!policy.checked) {\r\n            alert('Мы не можем принять заявку без вашего согласия с политикой конфиденциальности');\r\n            return false;\r\n        }\r\n    }\r\n    if (validateForm(form)) {\r\n        var xhr = new XMLHttpRequest();\r\n        var body = serialize(form);\r\n        console.log(body);\r\n        xhr.open('POST', './mail.php');\r\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState == 4 && xhr.status == 200) {\r\n                form.reset();\r\n                onSuccess();\r\n                activeModal ? activeModal.hideModal() : void(0);\r\n                thankModal.showModal();\r\n            }\r\n        };\r\n        xhr.send(body);\r\n    } else {\r\n        alert('Введите корректные данные');\r\n    }\r\n}\r\nfunction validateForm(form) {\r\n\tvar regTel = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\r\n\tvar inputTel = form.querySelector('input[name=\"tel\"]');\r\n    var inputName = form.querySelector('input[name=\"name\"]');\r\n    var allow = true;\r\n    if (inputTel && !inputTel.value.match(regTel)) allow = false;\r\n    if (inputName && inputName.value.length < 2) allow = false;\r\n    return allow;\r\n}\r\nfunction serialize(form) {\r\n\tif (!form || form.nodeName !== \"FORM\") {\r\n\t\treturn false;\r\n\t}\r\n\tvar i, j, q = [];\r\n\tfor (i = form.elements.length - 1; i >= 0; i = i - 1) {\r\n\t\tif (form.elements[i].name === \"\") {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tswitch (form.elements[i].nodeName) {\r\n\t\t\tcase 'INPUT':\r\n\t\t\t\tswitch (form.elements[i].type) {\r\n\t\t\t\t\tcase 'text':\r\n\t\t\t\t\tcase 'tel':\r\n\t\t\t\t\tcase 'email':\r\n\t\t\t\t\tcase 'hidden':\r\n\t\t\t\t\tcase 'password':\r\n\t\t\t\t\tcase 'button':\r\n\t\t\t\t\tcase 'reset':\r\n\t\t\t\t\tcase 'submit':\r\n\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'checkbox':\r\n\t\t\t\t\tcase 'radio':\r\n\t\t\t\t\t\tif (form.elements[i].checked) {\r\n\t\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'file':\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'TEXTAREA':\r\n\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'SELECT':\r\n\t\t\t\tswitch (form.elements[i].type) {\r\n\t\t\t\t\tcase 'select-one':\r\n\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'select-multiple':\r\n\t\t\t\t\t\tfor (j = form.elements[i].options.length - 1; j >= 0; j = j - 1) {\r\n\t\t\t\t\t\t\tif (form.elements[i].options[j].selected) {\r\n\t\t\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].options[j].value));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'BUTTON':\r\n\t\t\t\tswitch (form.elements[i].type) {\r\n\t\t\t\t\tcase 'reset':\r\n\t\t\t\t\tcase 'submit':\r\n\t\t\t\t\tcase 'button':\r\n\t\t\t\t\t\tq.push(form.elements[i].name + \"=\" + encodeURIComponent(form.elements[i].value));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\treturn q.join(\"&\");\r\n}\r\n\r\nif (document.querySelector('.product-item')) {\r\n    const productCards = document.querySelectorAll('.product-item');\r\n    productCards.forEach(card => {\r\n        const cardInstance = new ProductCard(card);\r\n    });\r\n}"]}