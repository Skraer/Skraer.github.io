{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["function nodeExist(selector) {\r\n    return document.querySelector(selector) !== null;\r\n}\r\n\r\nclass Tabs {\r\n    constructor({tabSelector, onInit}) {\r\n        this.selector = tabSelector;\r\n        this.tabs = document.querySelectorAll(tabSelector);\r\n        this.inputs = document.querySelectorAll(tabSelector + ' input');\r\n        this.data = {\r\n            activeIdx: null,\r\n            activeValue: null\r\n        };\r\n        this.isInit = false;\r\n        this.onInit = onInit ? onInit.bind(this) : function(){return false};\r\n        this.setup();\r\n    }\r\n    resetTabs() {\r\n        this.tabs.forEach(function(el) {\r\n            el.classList.remove('active');\r\n        });\r\n    }\r\n    _onInit() {\r\n        if (this.onInit()) {\r\n            this.onInit();\r\n        }\r\n    }\r\n    setup() {\r\n        if (document.querySelector(this.selector) !== null) {\r\n            this.inputs.forEach((el, idx) => {\r\n                el.addEventListener('change', (e) => {\r\n                    this.data = {activeIdx:idx, activeValue:el.value};\r\n                    this.resetTabs();\r\n                    this.tabs[idx].classList.add('active');\r\n                });\r\n            });\r\n            this.isInit = true;\r\n            this._onInit();\r\n        }\r\n        if (!this.isInit) {\r\n            console.error('Tabs is not inited. Something wrong');\r\n        }\r\n    }\r\n}\r\n\r\nclass MenuCatalog {\r\n    constructor({menuSelector}) {\r\n        this.menuSelector = menuSelector;\r\n        this.menuRoot = document.querySelector(menuSelector);\r\n        this.menuBtn = this.menuRoot.querySelector('a');\r\n        this.setup();\r\n    }\r\n    setup() {\r\n        if (this.menuRoot !== null) {\r\n            const root = this.menuRoot;\r\n            const btn = this.menuBtn;\r\n            const selector = this.menuSelector;\r\n\r\n            root.addEventListener('click', function(e) {\r\n                e.preventDefault();\r\n                if (e.target.closest('a') === btn) {\r\n                    root.classList.contains('active') ?\r\n                        root.classList.remove('active') :\r\n                        root.classList.add('active');\r\n                }\r\n\r\n            });\r\n            document.addEventListener('click', function(e) {\r\n                if (e.target.closest(selector) !== root) {\r\n                    root.classList.remove('active');\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nclass ProductCards {\r\n    constructor({cardSelector}) {\r\n        this.cardSelector = cardSelector;\r\n        this.cardElems = document.querySelectorAll(this.cardSelector);\r\n        this.setup();\r\n    }\r\n    addToCartHandler() {\r\n\r\n    }\r\n    setup() {\r\n        if (this.cardElems.length > 0) {\r\n            this.cardElems.forEach((el, idx) => {\r\n                const addBtn = el.querySelector(this.cardSelector + '__add');\r\n                addBtn.onclick = () => {el.classList.toggle('in-cart')};\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    const navMenuLinks = document.querySelectorAll('.nav-list .nav-list__item a');\r\n    navMenuLinks.forEach(function(el) {\r\n        if (window.location.pathname.indexOf(el.getAttribute('href')) > -1) {\r\n            el.closest('.nav-list__item').classList.add('current');\r\n        } else if ((window.location.pathname === '' || window.location.pathname === '/') && el.getAttribute('href').indexOf('index') > -1) {\r\n            el.closest('.nav-list__item').classList.add('current');\r\n        }\r\n    });\r\n\r\n    const productsTabs = new Tabs({\r\n        tabSelector: '.products__category-tab',\r\n    });\r\n    const productsGridTabs = new Tabs({tabSelector: '.products__type-tab'});\r\n    \r\n    const headerCatalog = new MenuCatalog({\r\n        menuSelector: '.header__menu'\r\n    });\r\n\r\n    const productCards = new ProductCards({\r\n        cardSelector: '.product-card'\r\n    });\r\n    \r\n    const brandsSlider = new Splide('.brands__slider.splide', {\r\n        type: 'loop',\r\n        perPage: 4,\r\n        perMove: 1,\r\n        pagination: false\r\n    }).mount();\r\n});\r\n"],"file":"../main.min.js"}